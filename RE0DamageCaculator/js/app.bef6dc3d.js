(function(e){function a(a){for(var r,i,s=a[0],l=a[1],o=a[2],u=0,v=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&v.push(c[i][0]),c[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);h&&h(a);while(v.length)v.shift()();return n.push.apply(n,o||[]),t()}function t(){for(var e,a=0;a<n.length;a++){for(var t=n[a],r=!0,s=1;s<t.length;s++){var l=t[s];0!==c[l]&&(r=!1)}r&&(n.splice(a--,1),e=i(i.s=t[0]))}return e}var r={},c={app:0},n=[];function i(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,a,t){i.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,a){if(1&a&&(e=i(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)i.d(t,r,function(a){return e[a]}.bind(null,r));return t},i.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(a,"a",a),a},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=a,s=s.slice();for(var o=0;o<s.length;o++)a(s[o]);var h=l;n.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),c=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",[t("v-navigation-drawer",{staticClass:"brown darken-1",attrs:{dark:"",app:""},model:{value:e.shown,callback:function(a){e.shown=a},expression:"shown"}},[t("v-list",{attrs:{dense:""}},[t("v-list-item",{attrs:{to:"/character"}},[t("v-list-item-action"),t("v-icon",{attrs:{color:"#0277BD"}},[e._v("mdi-calculator")]),t("v-list-item-content",[t("v-list-item-title",[e._v("必杀技伤害计算")])],1)],1)],1)],1),t("v-app-bar",{attrs:{color:"#8D6E63",dark:"","elevate-on-scroll":"",app:""},on:{click:function(a){a.stopPropagation(),e.shown=!e.shown}}},[t("v-app-bar-nav-icon"),t("v-toolbar-title",[e._v("RE0伤害计算器")])],1),t("v-main",{staticClass:"brown lighten-5"},[t("v-row",{attrs:{justify:"space-around",dense:""}},[t("v-col",{attrs:{cols:"8",dense:""}},[t("v-row",{attrs:{align:"start"}},[t("v-col",{attrs:{cols:"3",lg:"2"}},[t("v-text-field",{attrs:{value:"当前角色:",readonly:""}})],1),t("v-col",{attrs:{cols:"1"}},[t("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,c=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mx-3 my-8",attrs:{fab:"","x-small":"",width:"1",height:"1"},on:{click:function(a){return e.removeCharacter()}}},"v-btn",c,!1),r),[t("v-icon",{attrs:{color:"red"}},[e._v("mdi-cancel")])],1)]}}])},[t("span",[e._v("删除当前角色")])])],1),t("v-col",{attrs:{cols:"5",lg:"3"}},[t("v-select",{ref:"characterSelect",attrs:{items:e.characterList,label:e.$store.state.characterDatas.characters[e.characterSelection.key].name.value,filled:"","item-text":"state","item-value":"key","return-object":"","single-line":""},model:{value:e.characterSelection,callback:function(a){e.characterSelection=a},expression:"characterSelection"}})],1),t("v-col",{attrs:{cols:"1"}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,c=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mx-3 my-8",attrs:{fab:"","x-small":"",width:"1",height:"1"},on:{click:function(a){return e.addCharacter()}}},"v-btn",c,!1),r),[t("v-icon",{attrs:{color:"green"}},[e._v("mdi-plus")])],1)]}}])},[t("span",[e._v("新建角色")])])],1)],1)],1)],1),t("v-container",[t("v-tabs",{attrs:{"background-color":"brown lighten-4","align-with-title":""}},[t("v-tab",{attrs:{to:"/character"}},[e._v("角色面板")]),t("v-tab",{attrs:{to:"/hearchines"}},[e._v("心之器")]),t("v-tab",{attrs:{to:"/magichines"}},[e._v("魔法器")])],1),t("router-view")],1),t("v-footer",[t("v-row",{attrs:{justify:"center"}},[t("strong",[e._v("made by-")]),t("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"https://github.com/LevyDeng/RE0DamageCaculator"}},[e._v("ptrees")])])],1)],1)],1)},n=[],i=(t("b0c0"),{name:"App",components:{},methods:{removeCharacter:function(){this.characterList.length>=2&&this.$store.commit("removeCharacter",this.characterSelection.key)},addCharacter:function(){this.$store.commit("addCharacter")}},data:function(){return{shown:null}},computed:{characterList:function(){var e=[];for(var a in this.$store.state.characterDatas.characters)e.push({state:this.$store.state.characterDatas.characters[a].name.value,key:a});return e},characterSelection:{get:function(){return this.$store.state.characterDatas.characterSelection},set:function(e){this.$store.commit("characterSelection",e)}}},created:function(){var e=this;void 0!=localStorage.getItem("userMsg")&&this.$store.replaceState(Object.assign(this.$store.state,JSON.parse(localStorage.getItem("userMsg")))),window.addEventListener("beforeunload",(function(){localStorage.setItem("userMsg",JSON.stringify(e.$store.state))}))}}),s=i,l=t("2877"),o=t("6544"),h=t.n(o),u=t("7496"),v=t("40dc"),m=t("5bc1"),p=t("8336"),d=t("62ad"),b=t("a523"),g=t("553a"),f=t("132d"),k=t("8860"),_=t("da13"),y=t("1800"),D=t("5d23"),S=t("f6c4"),x=t("f774"),I=t("0fd9"),w=t("b974"),$=t("71a3"),V=t("fe57"),C=t("8654"),M=t("2a7f"),O=t("3a2f"),N=Object(l["a"])(s,c,n,!1,null,null,null),T=N.exports;h()(N,{VApp:u["a"],VAppBar:v["a"],VAppBarNavIcon:m["a"],VBtn:p["a"],VCol:d["a"],VContainer:b["a"],VFooter:g["a"],VIcon:f["a"],VList:k["a"],VListItem:_["a"],VListItemAction:y["a"],VListItemContent:D["a"],VListItemTitle:D["b"],VMain:S["a"],VNavigationDrawer:x["a"],VRow:I["a"],VSelect:w["a"],VTab:$["a"],VTabs:V["a"],VTextField:C["a"],VToolbarTitle:M["a"],VTooltip:O["a"]});var j=t("f309");r["a"].use(j["a"]);var P=new j["a"]({}),H=t("9483");Object(H["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var q=t("8c4f"),E=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-main",[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{xs:"12",sm:"6",mid:"6",lg:"6"}},[t("v-row",[t("v-subheader",[e._v("角色基础数据:")]),t("v-col",{staticClass:"grey lighten-2",attrs:{cols:"11",dense:""}},[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"8"}},[t("v-text-field",{attrs:{label:"名字",value:e.characterDatas.characters[e.characterSelection.key].name.value},on:{input:function(a){return e.saveInput("name",a)}}})],1),e._l(e.numberInputs,(function(a,r){return t("v-col",{key:r,attrs:{cols:"6"}},[t("v-text-field",{attrs:{label:a,value:e.characterDatas.characters[e.characterSelection.key][r].value,rules:e.numberRules,hint:e.hints[r],"persistent-hint":""},on:{change:function(a){return e.saveInput(r,a)}},scopedSlots:e._u([{key:"append",fn:function(){return[e.characterDatas.tips[r]?t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on;return[t("v-icon",e._g({attrs:{color:"#90A4AE"}},r),[e._v("mdi-alert-circle ")])]}}],null,!0)},[t("span",[e._v(e._s(e.characterDatas.tips[r]))])]):e._e()]},proxy:!0}],null,!0)})],1)}))],2)],1)],1)],1),t("v-col",{attrs:{xs:"12",sm:"6",mid:"6",lg:"4"}},[t("v-row",[t("v-subheader",[e._v("角色最终数据")]),t("v-col",{staticClass:"grey lighten-3",attrs:{cols:"11",dense:""}},[t("v-row",{attrs:{dense:""}},e._l(e.finalDatas,(function(e,a){return t("v-col",{key:a,attrs:{cols:"6"}},[t("v-text-field",{attrs:{readonly:"",value:"attack"==a?e.value:(100*e.value).toFixed(2).toString()+"%",label:e.label}})],1)})),1),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-checkbox",{attrs:{label:"骰子特效"},model:{value:e.diceEnabled,callback:function(a){e.diceEnabled=a},expression:"diceEnabled"}})],1),t("v-col",[e._v(" 最终伤害:"),t("h1",{staticClass:"red--text text--lighten-1"},[e._v(e._s(e.finalDamage))])])],1)],1)],1)],1)],1),t("v-row",[t("v-spacer"),t("v-card",{staticClass:"mx-auto",attrs:{color:"blue lighten-4"}},[t("v-card-title",[t("div",{staticClass:"font-weight-black"},[e._v("属性权重:")]),t("div",{staticClass:"font-weight-light font-italic"},[e._v("(当前每增加一单位属性所提升的总伤害,仅供参考)")])]),t("v-sparkline",{attrs:{labels:e.sparklineValues[0],value:e.sparklineValues[1],type:"bar",autoLineWidth:"",padding:"8",gradient:e.gradient,"auto-draw":""}})],1)],1)],1)},R=[],F=(t("c975"),t("a9e3"),t("b680"),t("b64b"),t("d3b7"),t("25f0"),t("5530")),L=t("2f62"),J={name:"character",data:function(){return{numberRules:this.rules.numberRules,calcInput:this.tools.calcInput,hints:{},diceEnabled:!1,gradient:["red","orange","yellow"]}},computed:Object(F["a"])({characterSelection:function(){return this.characterDatas.characterSelection},numberInputs:function(){return this.characterDatas.numberInputs},diceDamage:function(){return 1==this.diceEnabled?1.3:1},finalDatas:function(){var e=this.characterDatas.characterSelection.key,a={crit_p:"暴击率",crit_d:"暴击伤害",combo_p:"连击率",combo_d:"连击伤害",damage:"伤害加成",armor_ignore:"防御忽视",skill_ub_pro:"必杀技伤害"},t={attack:{label:"攻击力",value:0}},r=this.characterDatas.characters[e].equipedHearchines.value,c=this.calcInput(this.characterDatas.characters[e].attack_percentage.value);for(var n in r)t["attack"].value+=this.calcInput(this.$store.state.hearchineDatas.hearchines[r[n]].attack.value),-1!=Object.keys(this.$store.state.hearchineDatas.hearchines[r[n]].dynamicProperties).indexOf("attack_percentage")&&(c+=this.calcInput(this.$store.state.hearchineDatas.hearchines[r[n]].dynamicProperties.attack_percentage.value));for(var i in t["attack"].value+=this.calcInput(this.characterDatas.characters[e].attack_solid.value),t["attack"].value+=this.calcInput(this.characterDatas.characters[e].attack_base.value)*(1+c),"key"in this.characterDatas.characters[e].magichineSelection&&(t["attack"].value+=this.calcInput(this.characterDatas.characters[e].magichines[this.characterDatas.characters[e].magichineSelection.key].numberProperties.attack.value)),t["attack_percentage"]={label:"攻击力加成(百分比)",value:c},a){var s=a[i];for(n in t[i]={label:s,value:this.calcInput(this.characterDatas.characters[e][i].value)},r)for(var l in this.$store.state.hearchineDatas.hearchines[r[n]].dynamicProperties)l==i&&(t[i].value+=this.calcInput(this.$store.state.hearchineDatas.hearchines[r[n]].dynamicProperties[i].value));"key"in this.characterDatas.characters[e].magichineSelection&&i in this.characterDatas.characters[e].magichines[this.characterDatas.characters[e].magichineSelection.key].numberProperties&&(t[i].value+=this.calcInput(this.characterDatas.characters[e].magichines[this.characterDatas.characters[e].magichineSelection.key].numberProperties[i].value))}return t},finalDamage:function(){return this.calcDamage(this.finalDatas)},sparklineValues:function(){var e=["攻击力加成","暴击率","暴击伤害","连击率","连击伤害","伤害加成"],a=["crit_p","crit_d","combo_p","combo_d","damage"],t=[],r=[.12,.2,.12,.02,.08],c=JSON.parse(JSON.stringify(this.finalDatas));for(var n in c.attack.value+=.1*this.calcInput(this.characterDatas.characters[this.characterDatas.characterSelection.key].attack_base.value),t.push(this.calcDamage(c)-this.finalDamage),c.attack.value-=.1*this.calcInput(this.characterDatas.characters[this.characterDatas.characterSelection.key].attack_base.value),a)c[a[n]].value+=r[n],t.push(this.calcDamage(c)-this.finalDamage),c[a[n]].value-=r[n];return[e,t]}},Object(L["b"])(["characterDatas"])),methods:{saveInput:function(e,a){var t=a.toString();if("number"==this.$store.state.valueTypeMap[e]){var r=this.calcInput(t);e in this.$store.state.percentageDatas&&(r=Number((100*Number(r)).toString()).toFixed(2)+"%"),this.hints[e]=r.toString()}this.$store.commit("save",{module:"character",id:this.characterSelection.key,key:e,value:t})},calcDamage:function(e){return(e.attack.value*(1+e.damage.value)*Math.min(this.calcInput(this.characterDatas.characters[this.characterSelection.key].anger.value)+1e3,3e3)/2e3*(1+e.skill_ub_pro.value)*this.calcInput(this.characterDatas.characters[this.characterSelection.key].conti.value)*this.calcInput(this.characterDatas.characters[this.characterSelection.key].skill_ub.value)*(1+Math.min(e.crit_p.value,1)*(e.crit_d.value-1)+Math.min(e.combo_p.value,1)*e.combo_d.value*10-1)*375/(375+this.calcInput(this.characterDatas.characters[this.characterSelection.key].enemy_armor.value)*(1-Math.min(e.armor_ignore.value,1)))*this.diceDamage).toFixed(4)}}},A=J,B=t("b0af"),W=t("99d9"),z=t("ac7c"),G=t("2fa4"),K=t("7f2e"),Q=t("e0c7"),U=Object(l["a"])(A,E,R,!1,null,null,null),X=U.exports;h()(U,{VCard:B["a"],VCardTitle:W["a"],VCheckbox:z["a"],VCol:d["a"],VIcon:f["a"],VMain:S["a"],VRow:I["a"],VSpacer:G["a"],VSparkline:K["a"],VSubheader:Q["a"],VTextField:C["a"],VTooltip:O["a"]});var Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-main",[t("v-row",{attrs:{dense:""}},[e._l(e.$store.state.hearchineDatas.hearchines,(function(e,a){return t("v-col",{key:a,attrs:{cols:"4",xs:"6",sm:"6"}},[t("hearchine",{attrs:{hearchineID:a}})],1)})),t("v-col",{attrs:{cols:"4",xs:"6",sm:"6"}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,c=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mx-10 my-10",attrs:{fab:"","x-large":""},on:{click:e.addHearchine}},"v-btn",c,!1),r),[t("v-icon",{attrs:{color:"green"}},[e._v("mdi-plus")])],1)]}}])},[t("span",[e._v("新建")])])],1)],2)],1)},Z=[],ee=(t("5377"),function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-card",{attrs:{color:"grey lighten-2"}},[t("v-form",{model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"2"}},[t("v-checkbox",{attrs:{"input-value":e.checks[e.currentCharacterID],disabled:e.disables[e.currentCharacterID]},on:{change:function(a){return e.checkChanged(a)}}})],1),t("v-col",{attrs:{cols:"6"}},[t("v-text-field",{attrs:{label:"名字"},model:{value:e.hearchineData.name.value,callback:function(a){e.$set(e.hearchineData.name,"value",a)},expression:"hearchineData.name.value"}})],1),t("v-col",{attrs:{cols:"3"}},[t("v-text-field",{attrs:{label:"攻击力",rules:e.pureNumberRules},model:{value:e.hearchineData.attack.value,callback:function(a){e.$set(e.hearchineData.attack,"value",a)},expression:"hearchineData.attack.value"}})],1)],1),t("v-row",{attrs:{dense:""}},[t("v-col",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.flag,expression:"flag"}],attrs:{type:"hidden",name:"flag"},domProps:{value:e.flag},on:{input:function(a){a.target.composing||(e.flag=a.target.value)}}}),e._l(e.propertySelection,(function(a,r){return t("v-row",{key:a.key,attrs:{dense:""}},[t("v-col",{attrs:{cols:"2"}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var c=a.on,n=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mx-3 my-8",attrs:{fab:"","x-small":"",width:"1",height:"1"},on:{click:function(a){return e.removeProperty(r)}}},"v-btn",n,!1),c),[t("v-icon",{attrs:{color:"red"}},[e._v("mdi-cancel")])],1)]}}],null,!0)},[t("span",[e._v("移除属性")])])],1),t("v-col",{attrs:{cols:"6"}},[t("v-select",{attrs:{items:e.hearchineDatas.hearchineProperties,label:a.label,"item-text":"label","item-value":"key","return-object":"","single-line":"",filled:""},model:{value:e.propertySelection[r],callback:function(a){e.$set(e.propertySelection,r,a)},expression:"propertySelection[k]"}})],1),t("v-col",{attrs:{cols:"3"}},[t("v-text-field",{attrs:{rules:e.pureNumberRules},model:{value:e.propertySelection[r].value,callback:function(a){e.$set(e.propertySelection[r],"value",a)},expression:"propertySelection[k].value"}})],1)],1)})),t("v-row",[t("v-col",{attrs:{cols:"1"}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,c=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mx-3 my-8",attrs:{fab:"","x-small":"",width:"1",height:"1"},on:{click:function(a){return e.addProperty()}}},"v-btn",c,!1),r),[t("v-icon",{attrs:{color:"green"}},[e._v("mdi-plus")])],1)]}}])},[t("span",[e._v("添加属性")])])],1)],1)],2)],1),t("v-row",{attrs:{dense:""}},[t("v-col",[t("v-btn",{staticClass:"ma-2",attrs:{outlined:"",fab:"",small:"",color:"red"},on:{click:e.removeSelf}},[t("v-icon",[e._v("mdi-delete")])],1)],1),t("v-col",[t("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"green"},on:{click:e.saveHearchine}},[e._v("保存")])],1)],1)],1)],1)}),ae=[],te=(t("a434"),{name:"hearchine",data:function(){return{valid:!0,pureNumberRules:this.rules.pureNumberRules,calcInput:this.tools.calcInput,flag:0,snackbar:!1}},props:{hearchineID:String},computed:Object(F["a"])({checks:function(){var e={};for(var a in this.$store.state.characterDatas.characters)for(var t in e[a]=!1,this.$store.state.characterDatas.characters[a].equipedHearchines.value)this.$store.state.characterDatas.characters[a].equipedHearchines.value[t]==this.hearchineID&&(e[a]=!0);return e},disables:function(){var e={};for(var a in this.$store.state.characterDatas.characters)if(this.$store.state.characterDatas.characters[a].equipedHearchines.value.length<=2)e[a]=!1;else if(3==this.$store.state.characterDatas.characters[a].equipedHearchines.value.length)for(var t in e[a]=!0,this.$store.state.characterDatas.characters[a].equipedHearchines.value)this.$store.state.characterDatas.characters[a].equipedHearchines.value[t]==this.hearchineID&&(e[a]=!1);return e},currentCharacterID:function(){return this.$store.state.characterDatas.characterSelection.key},hearchineData:function(){return this.$store.state.hearchineDatas.hearchines[this.hearchineID]},propertySelection:function(){var e=Object.keys(this.$store.state.hearchineDatas.hearchines[this.hearchineID].dynamicProperties),a=[];for(var t in e)a.push({key:e[t],label:this.$store.state.hearchineDatas.hearchines[this.hearchineID].dynamicProperties[e[t]].label,value:this.$store.state.hearchineDatas.hearchines[this.hearchineID].dynamicProperties[e[t]].value});return a}},Object(L["b"])(["hearchineDatas"])),methods:{checkChanged:function(e){1==e?this.$store.commit("equipHearchine",this.hearchineID):this.$store.commit("unEquipHearchine",this.hearchineID)},removeProperty:function(e){this.propertySelection.splice(e,1),this.flag+=1},addProperty:function(){this.propertySelection.push({label:"-----空-----",key:"empty",value:0}),this.flag+=1},removeSelf:function(){this.$store.commit("removeHearchine",this.hearchineID),1==this.checks[this.currentCharacterID]&&this.$store.commit("unEquipHearchine",this.hearchineID)},saveHearchine:function(){if(1==this.valid){var e={};for(var a in this.propertySelection)e[this.propertySelection[a].key]={label:this.propertySelection[a].label,value:this.propertySelection[a].value,valueType:"number"};var t=JSON.parse(JSON.stringify(this.hearchineData));t.dynamicProperties=e,this.$store.commit("saveHearchine",{id:this.hearchineID,data:t})}this.snackbar=!0}}}),re=te,ce=t("4bd4"),ne=Object(l["a"])(re,ee,ae,!1,null,null,null),ie=ne.exports;h()(ne,{VBtn:p["a"],VCard:B["a"],VCheckbox:z["a"],VCol:d["a"],VForm:ce["a"],VIcon:f["a"],VRow:I["a"],VSelect:w["a"],VTextField:C["a"],VTooltip:O["a"]});var se={name:"hearchines",components:{hearchine:ie},data:function(){return{hearchinesFlag:this.$store.state.flags.hearchinesFlag}},computed:{},methods:{addHearchine:function(){this.$store.commit("addHearchine")}}},le=se,oe=Object(l["a"])(le,Y,Z,!1,null,null,null),he=oe.exports;h()(oe,{VBtn:p["a"],VCol:d["a"],VIcon:f["a"],VMain:S["a"],VRow:I["a"],VTooltip:O["a"]});var ue=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-main",[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"1"}},[t("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,c=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mx-3 my-8",attrs:{fab:"","x-small":"",width:"1",height:"1"},on:{click:e.removeMagichine}},"v-btn",c,!1),r),[t("v-icon",{attrs:{color:"red"}},[e._v("mdi-cancel")])],1)]}}])},[t("span",[e._v("删除")])])],1),t("v-col",{attrs:{cols:"3",lg:"2"}},[t("v-select",{attrs:{items:e.magichineList,label:e.$store.state.characterDatas.characters[e.currentCharacterID].magichineSelection.name,filled:"","item-text":"name","item-value":"key","return-object":"","single-line":""},model:{value:e.magichineSelection,callback:function(a){e.magichineSelection=a},expression:"magichineSelection"}})],1),t("v-col",{attrs:{cols:"1"}},[t("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(a){var r=a.on,c=a.attrs;return[t("v-btn",e._g(e._b({staticClass:"mx-3 my-8",attrs:{fab:"","x-small":"",width:"1",height:"1"},on:{click:e.addMagichine}},"v-btn",c,!1),r),[t("v-icon",{attrs:{color:"green"}},[e._v("mdi-plus")])],1)]}}])},[t("span",[e._v("新建")])])],1),t("v-col",{attrs:{cols:"6"}})],1),0!=e.magichineList.length?t("v-form",{staticClass:"grey lighten-2",model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"3"}},[t("v-text-field",{attrs:{label:"名称",value:e.$store.state.characterDatas.characters[e.currentCharacterID].magichines[e.magichineSelection.key].name},on:{input:function(a){return e.saveMagichineName(a)}}})],1),t("v-col",{attrs:{cols:"10"}}),e._l(e.$store.state.characterDatas.characters[e.currentCharacterID].magichines[e.magichineSelection.key].numberProperties,(function(a,r){return t("v-col",{key:r,attrs:{cols:"4"}},[t("v-text-field",{attrs:{label:a.label,value:a.value,rules:e.pureNumberRules},on:{input:function(a){return e.saveMagichineData(r,a)}}})],1)}))],2)],1):e._e()],1)},ve=[],me={name:"magichines",data:function(){return{pureNumberRules:this.rules.pureNumberRules,valid:!1}},computed:{currentCharacterID:function(){return this.$store.state.characterDatas.characterSelection.key},magichineList:function(){var e=[];for(var a in this.$store.state.characterDatas.characters[this.$store.state.characterDatas.characterSelection.key].magichines)e.push({key:a,name:this.$store.state.characterDatas.characters[this.$store.state.characterDatas.characterSelection.key].magichines[a].name});return e},magichineSelection:{get:function(){return this.$store.state.characterDatas.characters[this.currentCharacterID].magichineSelection},set:function(e){this.$store.commit("magichineSelection",e)}}},methods:{addMagichine:function(){this.$store.commit("addMagichine")},removeMagichine:function(){this.magichineList.length>=2&&this.$store.commit("removeMagichine")},saveMagichineName:function(e){this.$store.commit("saveMagichineName",e.toString())},saveMagichineData:function(e,a){1==this.valid&&this.$store.commit("saveMagichineData",{key:e,value:a})}}},pe=me,de=Object(l["a"])(pe,ue,ve,!1,null,null,null),be=de.exports;h()(de,{VBtn:p["a"],VCol:d["a"],VForm:ce["a"],VIcon:f["a"],VMain:S["a"],VRow:I["a"],VSelect:w["a"],VTextField:C["a"],VTooltip:O["a"]}),r["a"].use(q["a"]);var ge=[{path:"/character",component:X},{path:"/hearchines",component:he},{path:"/magichines",component:be},{path:"/",redirect:"/character"}],fe=new q["a"]({routes:ge}),ke=fe;r["a"].use(L["a"]);var _e=new L["a"].Store({state:{flags:{hearchinesFlag:0},valueTypeMap:{name:"string",attack:"number",attack_base:"number",attack_solid:"number",attack_percentage:"number",crit_p:"number",crit_d:"number",combo_p:"number",combo_d:"number",damage:"number",anger:"number",conti:"number",enemy_armor:"number",armor_ignore:"number",skill_ub:"number",skill_ub_pro:"number"},percentageDatas:{attack_percentage:0,crit_p:0,crit_d:0,combo_p:0,combo_d:0,damage:0,conti:0,armor_ignore:0,skill_ub:0,skill_ub_pro:0},currentCharacterID:"0",currentMaxID:1,characterDatas:{characterSelection:{state:"惠惠",key:"0"},tips:{attack_base:"角色的黑字攻击力",attack_solid:"额外的固定攻击力加成,如合辛魔法器,潜能,队友buff等",attack_percentage:"额外的百分比攻击力加成,如微精灵,潜能等",skill_ub_pro:"指心之器以外的必杀技加成,比如微精灵"},numberInputs:{attack_base:"基础攻击力",attack_solid:"攻击力加成(固定值)",attack_percentage:"攻击力加成(百分比)",crit_p:"暴击率",crit_d:"暴击伤害",combo_p:"连击率",combo_d:"连击伤害",damage:"伤害加成",anger:"怒气",conti:"连携",enemy_armor:"敌人护甲",armor_ignore:"防御忽视",skill_ub:"必杀技倍率",skill_ub_pro:"必杀技伤害"},characters:{0:{equipedHearchines:{value:[]},magichineSelection:{name:"骰子",key:"0"},magichineMaxID:{value:0},magichines:{0:{name:"骰子",numberProperties:{attack:{label:"攻击力",value:300,valueType:"number"},crit_p:{label:"暴击率",value:"23.5%"},crit_d:{label:"暴击伤害",value:"50%"},combo_p:{label:"连击率",value:"22%"},combo_d:{label:"连击伤害",value:"3%"},damage:{label:"伤害加成",value:"20%"}}}},name:{label:"名字",value:"惠惠"},attack_base:{label:"基础攻击力",value:1582},attack_solid:{label:"攻击力加成(固定值)",value:0},attack_percentage:{label:"攻击力加成(百分比)",value:"28.5%"},crit_p:{label:"暴击率",value:"30%"},crit_d:{label:"暴击伤害",value:"150%"},combo_p:{label:"连击率",value:0},combo_d:{label:"连击伤害",value:0},damage:{label:"伤害加成",value:"20%"},anger:{label:"怒气",value:2e3},conti:{label:"连携",value:"174%"},enemy_armor:{label:"敌人护甲",value:375},armor_ignore:{label:"防御忽视",value:"62%"},skill_ub:{label:"必杀技倍率",value:"2125%"},skill_ub_pro:{label:"必杀技伤害",value:"18%"}},1:{equipedHearchines:{value:[]},magichineSelection:{},magichineMaxID:{value:-1},magichines:{},name:{label:"名字",value:"阿库娅"},attack_base:{label:"基础攻击力",value:1479},attack_solid:{label:"攻击力加成(固定值)",value:0},attack_percentage:{label:"攻击力加成(百分比)",value:"0%"},crit_p:{label:"暴击率",value:"30%"},crit_d:{label:"暴击伤害",value:"150%"},combo_p:{label:"连击率",value:"10%"},combo_d:{label:"连击伤害",value:"15%"},damage:{label:"伤害加成",value:"0%"},anger:{label:"怒气",value:2e3},conti:{label:"连携",value:"174%"},enemy_armor:{label:"敌人护甲",value:375},armor_ignore:{label:"防御忽视",value:"12%+25%"},skill_ub:{label:"必杀技倍率",value:"300%"},skill_ub_pro:{label:"必杀技伤害",value:"0%"}}}},hearchineDatas:{checkedHearchineIDs:[],hearchineProperties:[{label:"基础攻击",key:"attack_percentage"},{label:"暴击几率",key:"crit_p"},{label:"暴击伤害",key:"crit_d"},{label:"连击几率",key:"combo_p"},{label:"连击伤害",key:"combo_d"},{label:"伤害加成",key:"damage"},{label:"防御忽视",key:"armor_ignore"},{label:"必杀技伤害",key:"skill_ub_pro"},{label:"-----空-----",key:"epmty"}],hearchineModel:{disabled:{value:!1},checked:{value:!1},name:{label:"名称",value:"新建心之器",valueType:"string"},attack:{label:"攻击力",value:"0",valueType:"number"},dynamicProperties:{attack_percentage:{label:"基础攻击",value:"0",valueType:"number"},crit_p:{label:"暴击几率",value:"0",valueType:"number"},armor_ignore:{label:"暴击伤害",value:"0",valueType:"number"}}},currentMaxID:0,hearchines:{0:{disabled:{value:!1},checked:{value:!1},name:{label:"名称",value:"从天而降的美好祝福",valueType:"string"},attack:{label:"攻击力",value:"304",valueType:"number"},dynamicProperties:{attack_percentage:{label:"基础攻击",value:"12%",valueType:"number"},crit_p:{label:"暴击几率",value:"18%",valueType:"number"},armor_ignore:{label:"防御忽视",value:"15%",valueType:"number"}}}}},magichineModel:{name:"新建魔法器",numberProperties:{attack:{label:"攻击力",value:0,valueType:"number"},crit_p:{label:"暴击率",value:"0%"},crit_d:{label:"暴击伤害",value:"0%"},combo_p:{label:"连击率",value:"0%"},combo_d:{label:"连击伤害",value:"0%"},damage:{label:"伤害加成",value:"0%"}}}},mutations:{save:function(e,a){e[a.module+"Datas"][a.module+"s"][a.id][a.key].value=a.value},removeHearchine:function(e,a){r["a"].delete(e.hearchineDatas.hearchines,a)},addHearchine:function(e){var a=JSON.parse(JSON.stringify(e.hearchineDatas.hearchineModel));3==e.characterDatas.characters[e.characterDatas.characterSelection.key].equipedHearchines.value.length&&(a.disabled.value=!0),r["a"].set(e.hearchineDatas.hearchines,(e.hearchineDatas.currentMaxID+1).toString(),a),r["a"].set(e.hearchineDatas,"currentMaxID",e.hearchineDatas.currentMaxID+1)},saveHearchine:function(e,a){r["a"].set(e.hearchineDatas.hearchines,a.id,a.data)},equipHearchine:function(e,a){e.characterDatas.characters[e.characterDatas.characterSelection.key].equipedHearchines.value.push(a)},unEquipHearchine:function(e,a){e.characterDatas.characters[e.characterDatas.characterSelection.key].equipedHearchines.value.splice(e.characterDatas.characters[e.characterDatas.characterSelection.key].equipedHearchines.value.indexOf(a),1)},characterSelection:function(e,a){r["a"].set(e.characterDatas,"characterSelection",a)},removeCharacter:function(e,a){r["a"].delete(e.characterDatas.characters,a);var t=Object.keys(e.characterDatas.characters).reverse()[0],c={state:e.characterDatas.characters[t].name.value,key:t};r["a"].set(e.characterDatas,"characterSelection",c)},addCharacter:function(e){var a=Object.keys(e.characterDatas.characters),t=JSON.parse(JSON.stringify(e.characterDatas.characters[a[0]]));for(var c in t)t[c].value=0;t.name.value="新建用户",t.equipedHearchines.value=[],t.magichines={},t.magichineSelection={},t.magichineMaxID={value:-1};var n=(e.currentMaxID+1).toString();r["a"].set(e.characterDatas.characters,n,t),e.currentMaxID+=1;var i={state:t.name.value,key:n};r["a"].set(e.characterDatas,"characterSelection",i)},magichineSelection:function(e,a){r["a"].set(e.characterDatas.characters[e.characterDatas.characterSelection.key],"magichineSelection",a)},addMagichine:function(e){var a=e.characterDatas.characterSelection.key,t=JSON.parse(JSON.stringify(e.magichineModel));r["a"].set(e.characterDatas.characters[a].magichines,(e.characterDatas.characters[a].magichineMaxID.value+1).toString(),t),e.characterDatas.characters[a].magichineMaxID.value+=1,r["a"].set(e.characterDatas.characters[a],"magichineSelection",{name:"新建魔法器",key:e.characterDatas.characters[a].magichineMaxID.value.toString()})},removeMagichine:function(e){var a=e.characterDatas.characterSelection.key,t=e.characterDatas.characters[a].magichineSelection.key;r["a"].delete(e.characterDatas.characters[a].magichines,t);var c=Object.keys(e.characterDatas.characters[a].magichines).reverse()[0];r["a"].set(e.characterDatas.characters[a],"magichineSelection",{name:e.characterDatas.characters[a].magichines[c].name,key:c})},saveMagichineName:function(e,a){var t=e.characterDatas.characterSelection.key,c=e.characterDatas.characters[t].magichineSelection.key;r["a"].set(e.characterDatas.characters[t].magichines[c],"name",a)},saveMagichineData:function(e,a){var t=e.characterDatas.characterSelection.key,c=e.characterDatas.characters[t].magichineSelection.key;r["a"].set(e.characterDatas.characters[t].magichines[c].numberProperties[a.key],"value",a.value)}},actions:{},modules:{}}),ye=[function(e){return void 0!=e||""},function(e){return(e||"").toString().length<=255||"Max 255 characters"},function(e){var a=/^\d+\.?\d*%?(\+\d+\.?\d*%?)*$/;return a.test(e.toString())||"输入格式错误,仅支持[0-9].+%"}],De=[function(e){return void 0!=e||""},function(e){return(e||"").toString().length<=255||"Max 255 characters"},function(e){var a=/^\d+\.?\d*%?$/;return a.test(e.toString())||"输入格式错误,仅支持[0-9].%"}],Se={numberRules:ye,pureNumberRules:De},xe=(t("a15b"),t("ac1f"),t("8a79"),t("1276"),function(e){e=e.toString();var a=e.split("+");for(var t in a)if(a[t].endsWith("%")){var r=a[t].split("");if(r.pop(),r=r.join(""),isNaN(r))return 0;a[t]=Number(r)/100}var c=0;for(t in a){if(isNaN(a[t]))return 0;c+=Number(a[t])}return c}),Ie={calcInput:xe};r["a"].config.productionTip=!1,r["a"].prototype.rules=Se,r["a"].prototype.tools=Ie,new r["a"]({vuetify:P,router:ke,store:_e,render:function(e){return e(T)}}).$mount("#app")}});
//# sourceMappingURL=app.bef6dc3d.js.map